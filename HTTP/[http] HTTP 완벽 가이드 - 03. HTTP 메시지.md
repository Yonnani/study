# HTTP 완벽 가이드

## 3장. HTTP 메시지

### 3.1 메시지의 흐름

- HTTP 메시지는 HTTP 애플리케이션 간에 주고받은 데이터의 블록들

#### 3.1.1 메시지는 원 서버 방향을 인바운드로 하여 송신된다

- HTTP는 인바운드와 아웃바운드라는 용어를 트랜잭션 방향을 표현하기 위해 사용함
- 메시지가 원 서버로 향하는 것 : 인바운드
- 모든 처리가 끝나고 메시지가 사용자 에이전트로 돌아오는 것 : 아웃바운드

#### 3.1.2 다운스트림으로 흐르는 메시지

- 모든 메시지는 다운스트림으로 흐름
- 메시지 발송자는 수신자의 업스트림임

### 3.2 메시지의 각 부분

- 메시지는 시작줄, 헤더 블록, 본문으로 구성됨
  - 시작줄 : 이것이 어떤 메시지인지 서술함
  - 헤더 블록 : 속성
  - 본문 : 데이터(없을 수도 있음)
- 시작줄과 헤더는 줄 단위로 분리된 아스키 문자열임
  - 각 줄은 캐리지 리턴(ASCII 13)과 개행 문자(ASCII 10)로 구성된 두 글자의 줄바꿈 문자열로 끝남
  - 이 줄바꿈 문자열 : `CRLF`
  - 견고한 애플리케이션은 `CRLF` 뿐만 아니라 그냥 개행 문자도 받아들일 수 있어야함

#### 3.2.1 메시지 문법

- 모든 HTTP 메시지는 요청 메시지 혹은 응답 메시지

- 요청 메시지 : 웹 서버에 어떤 동작을 요구

- 응답 메시지 : 요청의 결과를 클라이언트에게 돌려줌

- 요청 메시지의 형식

  - <메서드> <요청 URL> <버전>

    <헤더>



    <엔티티 본문>

- 응답 메시지의 형식

  - <버전> <상태 코드> <사유 구절>

    <헤더>



    <엔티티 본문>

- **메서드**

  - 클라이언트 측에서 서버가 리소스에 대해 수행해주길 바라는 동작(ex. `GET`, `HEAD`, `POST`)
- **요청 URL**
  - 요청 대상이 되는 리소스를 지칭하는 완전한 URL 혹은 URL 경로 구성요소
- **버전**

  - 이 메시지에서 사용 중인 HTTP의 버전
  - 형식 : `HTTP/<메이저>.<마이너>`
- **상태 코드**

  - 요청 중에 무엇이 일어났는지 설명하는 세 자리 숫자
- **사유 구절(reason-phrase)**
  - 상태 코드의 의미를 사람이 이해할 수 있게 설명해주는 짧은 문구
  - 상태 코드 이후부터 줄바꿈 문자열까지가 사유 구절
  - 오로지 사람에게 읽히기 위한 목적으로만 존재
- **헤더들**
- **엔터티 본문**
  - 임의의 데이터 블록을 포함함

#### 3.2.2 시작줄

- 모든 HTTP 메시지는 시작줄로 시작함

- **요청줄**
  - 